<!DOCTYPE html>
<html>
<style>
#myContainer {
  width: 600px;
  height: 500px;
  position: relative;
  background: #81B0FF;
  margin: auto;  
}
#myAnimation {
  width: 100px;
  height: 100px;
  position: absolute;  
  content: url('nadador.png');
}
#particles-js{
  width: 100%;
  height: 100px;
}
#titulo{
  background-color: #90EE90;
}
</style>
<link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap.min.css">
<body>    
  <div id='titulo' class='well'>
    <center><h1>SIMULACION NADADOR ADULTO A TRAVES DE UN RIO</h1></center>
  </div>  
  <input type="file" id="fileinput">
  <div class="btn-group" role="group" aria-label="...">
<button onclick="myMove()" class='btn btn-primary'>Comenzar
   <span class="glyphicon glyphicon-play" aria-hidden="true"></span>
</button>
</div>  
<div id ="myContainer" hidden>
<div id ="myAnimation"></div>
</div>

<script>
document.getElementById("myAnimation").style.bottom=0+'px';
document.getElementById("myAnimation").style.left=500+'px';   
var texto;
function myMove() {    
  var elem = document.getElementById("myAnimation");   
  document.getElementById('myContainer').style.display='block';
  var x=[];
  var y=[];
  fila=texto[0].split(' ');  
  for (var i = 0; i < texto.length; i++) {
    fila=texto[i].split(' ');
    x[i]=Number(fila[0])*500;
    y[i]=Number(fila[1])*500;
  };
  var pos = 0;  
  var id = setInterval(frame, 150);
  function frame() {        
    if (pos == texto.length-1) {
      clearInterval(id);
    } else {
      pos++;
      elem.style.bottom = (y[pos])+ 'px'; 
      elem.style.left = (x[pos])+'px'; 
      //alert(pos);
    }
  }
}
  function readSingleFile(evt) {
    //Retrieve the first (and only!) File from the FileList object
    var f = evt.target.files[0];     
    if (f) {
      var r = new FileReader();
      r.onload = function(e) { 
        var contents = e.target.result.split('\n');        
        texto=contents;
      }
      r.readAsText(f);      
    } else { 
      alert("Failed to load file");
    }
  }
  document.getElementById('fileinput').addEventListener('change', readSingleFile, false);
</script>

</body>
</html>
